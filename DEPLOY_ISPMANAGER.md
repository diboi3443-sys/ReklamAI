# Инструкция по деплою в ISPmanager

## Подготовка проекта

1. **Соберите проект для production:**
```bash
npm install
npm run build
```

2. **Проверьте переменные окружения:**
Создайте файл `.env` в корне проекта со следующими переменными:
```
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

## Деплой в ISPmanager

### Вариант 1: Статический деплой (Apache)

1. Загрузите содержимое папки `dist` на сервер через FTP/SFTP
2. Убедитесь, что файл `.htaccess` загружен в корневую директорию сайта
3. Настройте домен в ISPmanager на эту директорию

### Вариант 2: Node.js приложение

1. Загрузите весь проект на сервер
2. В ISPmanager создайте Node.js приложение:
   - **Путь к приложению:** `/path/to/your/project`
   - **Команда запуска:** `node server.js`
   - **Порт:** `3000` (или укажите свой через переменную окружения PORT)
3. Установите зависимости:
```bash
npm install --production
```
4. Соберите проект:
```bash
npm run build
```
5. Запустите приложение через ISPmanager

## Настройка переменных окружения в ISPmanager

1. В панели ISPmanager найдите раздел "Переменные окружения"
2. Добавьте следующие переменные:
   - `VITE_SUPABASE_URL` - URL вашего Supabase проекта
   - `VITE_SUPABASE_ANON_KEY` - Anon ключ Supabase
   - `PORT` - Порт для Node.js сервера (опционально, по умолчанию 3000)

## Проверка деплоя

После деплоя проверьте:
1. Откройте сайт в браузере
2. Проверьте консоль браузера (F12) на наличие ошибок
3. Убедитесь, что переменные окружения загружаются правильно

## Решение проблем

### Черный экран
- Проверьте, что все файлы из папки `dist` загружены
- Проверьте консоль браузера на ошибки
- Убедитесь, что `.htaccess` работает (для Apache)
- Проверьте, что переменные окружения установлены

### Ошибки загрузки ресурсов
- Проверьте пути к файлам (должны быть относительными)
- Убедитесь, что base path в `vite.config.ts` правильный
- Проверьте права доступа к файлам на сервере

### Проблемы с роутингом
- Убедитесь, что `.htaccess` загружен (для Apache)
- Проверьте, что все маршруты ведут на `index.html` (SPA)
